
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>

<script type="text/x-thebe-config">
  {
    requestKernel: true,
    binderOptions: {
      repo: "matplotlib/ipympl",
      ref: "0.6.1",
      repoProvider: "github",
    },
  }
</script>
<script src="https://unpkg.com/thebe@latest/lib/index.js"></script>

<button id="activateButton" style="width: 120px; height: 40px; font-size: 1.5em;">
  Activate
</button>
<script>
  var bootstrapThebe = function() {
    thebelab.bootstrap();
  }
  document.querySelector("#activateButton").addEventListener('click', bootstrapThebe)
</script>

<pre data-executable="true" data-language="python">
# Symmetry Operations (Crystallography)
import matplotlib.pyplot as plt

initial_coords = [1, 2, 3]    # Initial coordinates of the atom
sym_operation = 'x,x+y,y-z'   # Symmetry operation

final_coords = [0, 0, 0]
# Split the symmetry operation into its x, y and z components
sym_operation = sym_operation.split(',')

x, y, z = initial_coords

# Loop through the x, y and z components of the symmetry operation
for axis, operation in enumerate(sym_operation):
    subtract = False
    for character in operation:    # Loop through the characters in the symmetry operation
        temp = 0
        if character == 'x':
            temp += x   # If the character is x, add the x coordinate to the temporary variable
        elif character == 'y':
            temp += y   # If the character is y, add the y coordinate to the temporary variable
        elif character == 'z':
            temp += z   # If the character is z, add the z coordinate to the temporary variable

        if subtract == True:
            temp = -temp    # If the previous character was a '-' then set the temp variable to negative
        # Add the temporary variable to the final coordinate
        final_coords[axis] += temp
        subtract = False
        if character == '-':
            subtract = True   # If the character is a '-' then set the subtract variable to True


fig, ax = plt.subplots(subplot_kw=dict(projection='3d'))
ax.plot(x, y, z, marker="o", markersize=5, color='green',
        label='Initial')
ax.plot(final_coords[0], final_coords[1], final_coords[2], marker="o",
        markersize=5, color='red', label='Final')
max = max([x, y, z, max(final_coords)])
ax.plot([-max, max], [0, 0], [0, 0], color='k')
ax.plot([0, 0], [-max, max], [0, 0], color='k')
ax.plot([0, 0], [0, 0], [-max, max], color='k')
ax.set_xlabel('x')
ax.set_ylabel('y')
ax.set_zlabel('z')
ax.legend()

plt.show()


</pre>
